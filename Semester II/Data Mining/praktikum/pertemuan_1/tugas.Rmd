---
title: "PRAKTIKUM PENAMBANGAN DATA"
subtitle: "Tugas Praktikum I"
author: "Mohammad Rizka Fadhli 20921004"
institute: "Magister Sains Komputasi, ITB"
date: "17 Maret 2021"
output: 
  html_document:
   toc: true
   number_sections: true
   theme: readable
   highlight: espresso
   toc_float:
     collapse: false
   fig_caption: true
---

```{r, include=FALSE}
rm(list=ls())
```

# KETERANGAN

## Bahasa yang Digunakan

Pada praktikum ini, saya menggunakan bahasa __R__ versi `4`.

Beberapa _libraries_ yang digunakan antara lain:

1. `dplyr` untuk melakukan _data carpentry_. Saya akan menggunakan prinsip _tidy_ dengan memanfaatkan _pipe operator_ `%>%`.
1. `janitor` untuk merapikan penamaan atribut (kolom).
1. `caret` untuk melakukan _one hot encoding_ dan beberapa _scaling data_.

Selain itu, akan dibuat beberapa _custom function_ untuk memudahkan menjawab soal.

### Cek Apakah Libraries Sudah Installed

Pertama-tama saya akan coba cek terlebih dahulu apakah _libraries_ yang dibutuhkan sudah ter-_install_ atau tidak. Jika tidak, saya akan buat perintah agar __R__ meng-_install_-nya terlebih dahulu.

```{r}
paket = c("dplyr","janitor","caret")
install.packages(setdiff(paket,rownames(installed.packages())))
```

### Memanggil _Libraries_

```{r,message = FALSE, warning = FALSE}
library(dplyr)
library(janitor)
library(caret)
```

## _Notebook_ atau _Markdown_

_Notebook_ atau _markdown_ ini ditulis memanfaatkan `library(rmarkdown)` dan di-_export_ ke dalam format `.html`.

# SOAL

## _Import_ Data dan _Preprocessing_

Muatlah data `melb.csv` dan lakukan _preprocessing_ berikut:

1. _Imputation_
2. _One hot encoding_
3. _Thresholding_ dan _binarizing_
4. _Scalling_ dan _normalizing_
5. _Oversampling_ atau _undersampling_

## _Dimension Reduction_ - PCA

Ekstrak dua _principal component_ dari `melb.csv` yang telah di-_preprocessing_. Lakukan _machine learning_ regresi untuk memprediksi `proce` dan amati perbandingan _loss value_ sebelum dan setelah diekstrak menjadi komponen utama.

# JAWABAN DAN PEMBAHASAN

## Memanggil Data

Kita akan _import_ data `melb.csv` ke dalam _environment_ lalu mengubah nama atribut agar lebih rapi dengan cara:

```{r}
data =
   read.csv("melb.csv") %>%	# import data
   janitor::clean_names()	# merapikan nama atribut
```

Kita akan cek terlebih dahulu struktur data dan _summary_ singkatnya sebagai berikut:

```{r}
data %>% str()
data %>% summary()
```

<br>

Beberapa temuan yang kita dapatkan:

### Tipe Data

Kita lihat bahwa beberapa atribut memiliki tipe data yang berbeda-beda. Mulai dari `character` hingga `numeric`.

Untuk beberapa atribut bertipe `character` yang __penting__, saya akan ubah menjadi tipe numerik dengan melakukan _one hot encoding_, yakni atribut:

1. `type`
1. `method`
1. `seller`
1. `council_area`
1. `regionname`

Sedangkan untuk data bertipe numerik, saya akan lakukan normalisasi dengan metode _mean absolute deviation_. 

$$\begin{matrix}
z = \frac{x - m}{s}, \text{ dengan:} \\
m = \frac{\sum{x}}{n} \\
s = \frac{|x - m|}{n}
\end{matrix}$$

Berikut adalah _function_-nya:

```{r}
z_numeric = function(var){
  n = length(var)           # menghitung n: berapa banyak data
  m = sum(var) / n          # hitung variabel m
  s = sum(abs(var - m))/n   # hitung variabel s
  z = (var - m)/s           # hitung z
  return(z)                 # output nilai z
}
```

<br>

### Data _Blank_ atau `NA`

Khusus data yang memiliki nilai _blank_, saya akan lakukan _imputation_ dengan me-_replace_ data _blank_ tersebut dengan:

1. Median untuk atribut `car` dan `building_area`.
1. Modus untuk atribut `year_built`.

## _Pre-Processing_

Pertama-tama saya akan melakukan _imputation_ terlebih dahulu untuk beberapa atribut yang memiliki nilai _blank_.

Untuk variabel bertipe _character_, berikut adalah _function_ untuk me-_replace_ nilai _blank_ dengan nilai modusnya:

```{r}
hitung_modus = function(var){
  tabulasi = data %>% group_by(var) %>% tally() %>% arrange(desc = T)  # membuat tabulasi
  modus = tabulasi[1,1] %>% as.numeric()                               # mencari nilai modus
  return(modus)							       # output nilai modus
}

```

Sedangkan berikut ini adalah _function_ untuk me-_replace_ nilai _blank_ dengan nilai _mean_ khusus data bertipe numerik:

```{r}
hitung_mean = function(var){median = median(var,na.rm = T)}
```

### _Imputation_

Berikut ini adalah _imputation_ untuk data yang kita miliki:

